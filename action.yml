name: Generate build version
description: 'Generate build version'
inputs:
  sha:
    description: 'The SHA to include'
    required: false
outputs:
  version:
    description: 'The generated build version (JSON)'
    value: ${{ steps.build-version.outputs.version }}
runs:
  using: composite
  steps:
    - id: build-version
      shell: bash
      run: |
        BUILD_DATE=`date "+%FT%H:%M:%S"`
        echo "version={\"build_date\":\"$BUILD_DATE\",\"git_sha\":\"${{ inputs.sha || github.sha }}\"}" >> $GITHUB_OUTPUT
